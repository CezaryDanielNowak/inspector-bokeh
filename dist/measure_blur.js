!function(t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).measureBlur=t()}(function(){return function r(n,i,o){function h(a,t){if(!i[a]){if(!n[a]){var e="function"==typeof require&&require;if(!t&&e)return e(a,!0);if(l)return l(a,!0);throw(t=new Error("Cannot find module '"+a+"'")).code="MODULE_NOT_FOUND",t}e=i[a]={exports:{}},n[a][0].call(e.exports,function(t){return h(n[a][1][t]||t)},e,e.exports,r,n,i,o)}return i[a].exports}for(var l="function"==typeof require&&require,t=0;t<o.length;t++)h(o[t]);return h}({1:[function(t,a,e){var c=t("canvasfilters").Filters;function r(t){for(var a,e,r,n,i,o,h=(t=>{for(var a,e,r,n=t.data,i=4*t.width,o=[],h=0;h<n.length;h+=i){for(r=new Uint8ClampedArray(t.width),e=0,a=h;a<h+i;a+=4)r[e]=n[a],e+=1;o.push(r)}return o})((t=t,t=c.luminance(360<=t.width?c.gaussianBlur(t,5):t),o=c.getFloat32Array([1,0,-1,2,0,-2,1,0,-1]),c.convolve(t,o,!0))),l=h[0].length,d=h.length,g=0,u=0,f=0;f<d;f+=1)for(n=-1,a=0;a<l;a+=1)e=h[f][a],0<=n&&n<a&&e<(r=h[f][a-1])&&(20<=r&&(g+=1,u+=a-n-1),n=-1),0==e&&(n=a);return t=0===g?i=0:(i=u/g)/l*100,{width:l,height:d,num_edges:g,avg_edge_width:i,avg_edge_width_perc:t}}r.setup=function(){throw new Error("[inspector-bokeh error] Setup is availabe only in inspector-bookeh/async!")},a.exports=r},{canvasfilters:2}],2:[function(t,a,e){var F={};"undefined"==typeof Float32Array?F.getFloat32Array=F.getUint8Array=function(t){return t.length?t.slice(0):new Array(t)}:(F.getFloat32Array=function(t){return new Float32Array(t)},F.getUint8Array=function(t){return new Uint8Array(t)}),"undefined"!=typeof document?(F.tmpCanvas=document.createElement("canvas"),F.tmpCtx=F.tmpCanvas.getContext("2d"),F.getPixels=function(t){var a,e;if(t.getContext){a=t;try{e=a.getContext("2d")}catch(t){}}return e||(e=(a=this.getCanvas(t.width,t.height)).getContext("2d")).drawImage(t,0,0),e.getImageData(0,0,a.width,a.height)},F.createImageData=function(t,a){return this.tmpCtx.createImageData(t,a)},F.getCanvas=function(t,a){var e=document.createElement("canvas");return e.width=t,e.height=a,e},F.filterImage=function(t,a,e){for(var r=[this.getPixels(a)],n=2;n<arguments.length;n++)r.push(arguments[n]);return t.apply(this,r)},F.toCanvas=function(t){var a=this.getCanvas(t.width,t.height);return a.getContext("2d").putImageData(t,0,0),a},F.toImageData=function(t){return this.identity(t)}):(onmessage=function(t){t=t.data;t.length||(t=[t]),postMessage(F.runPipeline(t))},F.createImageData=function(t,a){return{width:t,height:a,data:this.getFloat32Array(t*a*4)}}),F.runPipeline=function(t){for(var a=null,a=this[t[0].name].apply(this,t[0].args),e=1;e<t.length;e++){var r=t[e],n=r.args.slice(0);n.unshift(a),a=this[r.name].apply(this,n)}return a},F.createImageDataFloat32=function(t,a){return{width:t,height:a,data:this.getFloat32Array(t*a*4)}},F.identity=function(t,a){for(var e=F.createImageData(t.width,t.height),r=e.data,n=t.data,i=0;i<n.length;i++)r[i]=n[i];return e},F.horizontalFlip=function(t){for(var a=F.createImageData(t.width,t.height),e=t.width,r=t.height,n=a.data,i=t.data,o=0;o<r;o++)for(var h=0;h<e;h++){var l=4*(o*e+h),d=4*(o*e+(e-h-1));n[d]=i[l],n[1+d]=i[1+l],n[2+d]=i[2+l],n[3+d]=i[3+l]}return a},F.verticalFlip=function(t){for(var a=F.createImageData(t.width,t.height),e=t.width,r=t.height,n=a.data,i=t.data,o=0;o<r;o++)for(var h=0;h<e;h++){var l=4*(o*e+h),d=4*((r-o-1)*e+h);n[d]=i[l],n[1+d]=i[1+l],n[2+d]=i[2+l],n[3+d]=i[3+l]}return a},F.luminance=function(t,a){for(var e=F.createImageData(t.width,t.height),r=e.data,n=t.data,i=0;i<n.length;i+=4){var o=n[i],h=n[i+1],l=n[i+2];r[i]=r[i+1]=r[i+2]=.2126*o+.7152*h+.0722*l,r[i+3]=n[i+3]}return e},F.grayscale=function(t,a){for(var e=F.createImageData(t.width,t.height),r=e.data,n=t.data,i=0;i<n.length;i+=4){var o=n[i],h=n[i+1],l=n[i+2];r[i]=r[i+1]=r[i+2]=.3*o+.59*h+.11*l,r[i+3]=n[i+3]}return e},F.grayscaleAvg=function(t,a){for(var e=F.createImageData(t.width,t.height),r=e.data,n=t.data,i=0;i<n.length;i+=4){var o=n[i],h=n[i+1],l=n[i+2];r[i]=r[i+1]=r[i+2]=(o+h+l)*(1/3),r[i+3]=n[i+3]}return e},F.threshold=function(t,a,e,r){for(var n=F.createImageData(t.width,t.height),i=(null==e&&(e=255),null==r&&(r=0),t.data),o=n.data,h=0;h<i.length;h+=4){var l=i[h],d=i[h+1],g=i[h+2];o[h]=o[h+1]=o[h+2]=a<=.3*l+.59*d+.11*g?e:r,o[h+3]=i[h+3]}return n},F.invert=function(t){for(var a=F.createImageData(t.width,t.height),e=t.data,r=a.data,n=0;n<e.length;n+=4)r[n]=255-e[n],r[n+1]=255-e[n+1],r[n+2]=255-e[n+2],r[n+3]=e[n+3];return a},F.brightnessContrast=function(t,a,e){a=this.brightnessContrastLUT(a,e);return this.applyLUT(t,{r:a,g:a,b:a,a:this.identityLUT()})},F.applyLUT=function(t,a){for(var e=F.createImageData(t.width,t.height),r=t.data,n=e.data,i=a.r,o=a.g,h=a.b,l=a.a,d=0;d<r.length;d+=4)n[d]=i[r[d]],n[d+1]=o[r[d+1]],n[d+2]=h[r[d+2]],n[d+3]=l[r[d+3]];return e},F.createLUTFromCurve=function(t){for(var a=this.getUint8Array(256),e=[0,0],r=0,n=0;r<a.length;r++){for(;n<t.length&&t[n][0]<r;)e=t[n],n++;a[r]=e[1]}return a},F.identityLUT=function(){for(var t=this.getUint8Array(256),a=0;a<t.length;a++)t[a]=a;return t},F.invertLUT=function(){for(var t=this.getUint8Array(256),a=0;a<t.length;a++)t[a]=255-a;return t},F.brightnessContrastLUT=function(t,a){for(var e=this.getUint8Array(256),r=-128*a+128+255*t,n=0;n<e.length;n++){var i=n*a+r;e[n]=i<0?0:255<i?255:i}return e},F.convolve=function(t,a,e){for(var r=Math.round(Math.sqrt(a.length)),n=Math.floor(r/2),i=t.data,o=t.width,h=t.height,l=o,d=h,t=F.createImageData(l,d),g=t.data,u=e?1:0,f=0;f<d;f++)for(var c=0;c<l;c++){for(var s=f,v=c,m=4*(f*l+c),w=0,p=0,M=0,y=0,b=0;b<r;b++)for(var I=0;I<r;I++){var D=4*(Math.min(h-1,Math.max(0,s+b-n))*o+Math.min(o-1,Math.max(0,v+I-n))),C=a[b*r+I];w+=i[D]*C,p+=i[1+D]*C,M+=i[2+D]*C,y+=i[3+D]*C}g[m]=w,g[1+m]=p,g[2+m]=M,g[3+m]=y+u*(255-y)}return t},F.verticalConvolve=function(t,a,e){for(var r=a.length,n=Math.floor(r/2),i=t.data,o=t.width,h=t.height,l=o,d=h,t=F.createImageData(l,d),g=t.data,u=e?1:0,f=0;f<d;f++)for(var c=0;c<l;c++){for(var s=f,v=c,m=4*(f*l+c),w=0,p=0,M=0,y=0,b=0;b<r;b++){var I=4*(Math.min(h-1,Math.max(0,s+b-n))*o+v),D=a[b];w+=i[I]*D,p+=i[1+I]*D,M+=i[2+I]*D,y+=i[3+I]*D}g[m]=w,g[1+m]=p,g[2+m]=M,g[3+m]=y+u*(255-y)}return t},F.horizontalConvolve=function(t,a,e){for(var r=a.length,n=Math.floor(r/2),i=t.data,o=t.width,h=o,l=t.height,t=F.createImageData(h,l),d=t.data,g=e?1:0,u=0;u<l;u++)for(var f=0;f<h;f++){for(var c=u,s=f,v=4*(u*h+f),m=0,w=0,p=0,M=0,y=0;y<r;y++){var b=4*(c*o+Math.min(o-1,Math.max(0,s+y-n))),I=a[y];m+=i[b]*I,w+=i[1+b]*I,p+=i[2+b]*I,M+=i[3+b]*I}d[v]=m,d[1+v]=w,d[2+v]=p,d[3+v]=M+g*(255-M)}return t},F.separableConvolve=function(t,a,e,r){return this.horizontalConvolve(this.verticalConvolveFloat32(t,e,r),a,r)},F.convolveFloat32=function(t,a,e){for(var r=Math.round(Math.sqrt(a.length)),n=Math.floor(r/2),i=t.data,o=t.width,h=t.height,l=o,d=h,t=F.createImageDataFloat32(l,d),g=t.data,u=e?1:0,f=0;f<d;f++)for(var c=0;c<l;c++){for(var s=f,v=c,m=4*(f*l+c),w=0,p=0,M=0,y=0,b=0;b<r;b++)for(var I=0;I<r;I++){var D=4*(Math.min(h-1,Math.max(0,s+b-n))*o+Math.min(o-1,Math.max(0,v+I-n))),C=a[b*r+I];w+=i[D]*C,p+=i[1+D]*C,M+=i[2+D]*C,y+=i[3+D]*C}g[m]=w,g[1+m]=p,g[2+m]=M,g[3+m]=y+u*(255-y)}return t},F.verticalConvolveFloat32=function(t,a,e){for(var r=a.length,n=Math.floor(r/2),i=t.data,o=t.width,h=t.height,l=o,d=h,t=F.createImageDataFloat32(l,d),g=t.data,u=e?1:0,f=0;f<d;f++)for(var c=0;c<l;c++){for(var s=f,v=c,m=4*(f*l+c),w=0,p=0,M=0,y=0,b=0;b<r;b++){var I=4*(Math.min(h-1,Math.max(0,s+b-n))*o+v),D=a[b];w+=i[I]*D,p+=i[1+I]*D,M+=i[2+I]*D,y+=i[3+I]*D}g[m]=w,g[1+m]=p,g[2+m]=M,g[3+m]=y+u*(255-y)}return t},F.horizontalConvolveFloat32=function(t,a,e){for(var r=a.length,n=Math.floor(r/2),i=t.data,o=t.width,h=o,l=t.height,t=F.createImageDataFloat32(h,l),d=t.data,g=e?1:0,u=0;u<l;u++)for(var f=0;f<h;f++){for(var c=u,s=f,v=4*(u*h+f),m=0,w=0,p=0,M=0,y=0;y<r;y++){var b=4*(c*o+Math.min(o-1,Math.max(0,s+y-n))),I=a[y];m+=i[b]*I,w+=i[1+b]*I,p+=i[2+b]*I,M+=i[3+b]*I}d[v]=m,d[1+v]=w,d[2+v]=p,d[3+v]=M+g*(255-M)}return t},F.separableConvolveFloat32=function(t,a,e,r){return this.horizontalConvolveFloat32(this.verticalConvolveFloat32(t,e,r),a,r)},F.gaussianBlur=function(t,a){if((a=Math.abs(a))<=1)return F.identity(t);for(var e=a/2,r=Math.ceil(a)+(1-Math.ceil(a)%2),n=this.getFloat32Array(r),a=(.5+e)/3,i=1/Math.sqrt(2*Math.PI*(a*a)),o=-1/(2*a*a),h=0,l=Math.floor(r/2),d=0;d<r;d++){var g=d-l,g=i*Math.exp(g*g*o);h+=n[d]=g}for(d=0;d<n.length;d++)n[d]/=h;return F.separableConvolve(t,n,n,!1)},F.laplaceKernel=F.getFloat32Array([-1,-1,-1,-1,8,-1,-1,-1,-1]),F.laplace=function(t){return F.convolve(t,this.laplaceKernel,!0)},F.sobelSignVector=F.getFloat32Array([-1,0,1]),F.sobelScaleVector=F.getFloat32Array([1,2,1]),F.sobelVerticalGradient=function(t){return this.separableConvolveFloat32(t,this.sobelSignVector,this.sobelScaleVector)},F.sobelHorizontalGradient=function(t){return this.separableConvolveFloat32(t,this.sobelScaleVector,this.sobelSignVector)},F.sobelVectors=function(t){for(var a=this.sobelVerticalGradient(t),t=this.sobelHorizontalGradient(t),e={width:a.width,height:a.height,data:this.getFloat32Array(a.width*a.height*8)},r=a.data,n=t.data,i=e.data,o=0,h=0;o<i.length;o+=2,h++)i[o]=n[h],i[o+1]=r[h];return e},F.sobel=function(t){t=this.grayscale(t);for(var a=this.sobelVerticalGradient(t),e=this.sobelHorizontalGradient(t),r=this.createImageData(a.width,a.height),n=0;n<r.data.length;n+=4){var i=Math.abs(a.data[n]),o=(r.data[n]=i,Math.abs(e.data[n]));r.data[n+1]=o,r.data[n+2]=(i+o)/4,r.data[n+3]=255}return r},F.bilinearSample=function(t,a,e,r){var n=Math.floor(a),i=Math.ceil(a),o=Math.floor(e),h=Math.ceil(e),l=4*(n+t.width*o),d=4*(i+t.width*o),g=4*(n+t.width*h),u=4*(i+t.width*h),f=a-n+(e-o),o=i-a+(e-o),n=a-n+(h-e),i=i-a+(h-e),a=1/(i+n+o+f),h=t.data;return r[0]=h[l]*(i*=a)+h[d]*(n*=a)+h[g]*(o*=a)+h[u]*(f*=a),r[1]=h[1+l]*i+h[1+d]*n+h[1+g]*o+h[1+u]*f,r[2]=h[2+l]*i+h[2+d]*n+h[2+g]*o+h[2+u]*f,r[3]=h[3+l]*i+h[3+d]*n+h[3+g]*o+h[3+u]*f,r},F.distortSine=function(t,a,e){null==a&&(a=.5),null==e&&(e=a);for(var r=this.createImageData(t.width,t.height),n=r.data,i=(t.data,this.createImageData(1,1).data),o=0;o<r.height;o++)for(var h=o+-Math.sin(o/(r.height-1)*Math.PI*2)*e*r.height/4,h=Math.max(Math.min(h,r.height-1),0),l=0;l<r.width;l++){var d=l+-Math.sin(l/(r.width-1)*Math.PI*2)*a*r.width/4,d=Math.max(Math.min(d,r.width-1),0),d=this.bilinearSample(t,d,h,i),g=4*(o*r.width+l);n[g]=d[0],n[1+g]=d[1],n[2+g]=d[2],n[3+g]=d[3]}return r},F.darkenBlend=function(t,a){for(var e=F.createImageData(t.width,t.height),r=t.data,n=a.data,i=e.data,o=0;o<r.length;o+=4)i[o]=(r[o]<n[o]?r:n)[o],i[o+1]=(r[o+1]<n[o+1]?r:n)[o+1],i[o+2]=(r[o+2]<n[o+2]?r:n)[o+2],i[o+3]=r[o+3]+(255-r[o+3])*n[o+3]*(1/255);return e},F.lightenBlend=function(t,a){for(var e=F.createImageData(t.width,t.height),r=t.data,n=a.data,i=e.data,o=0;o<r.length;o+=4)i[o]=(r[o]>n[o]?r:n)[o],i[o+1]=(r[o+1]>n[o+1]?r:n)[o+1],i[o+2]=(r[o+2]>n[o+2]?r:n)[o+2],i[o+3]=r[o+3]+(255-r[o+3])*n[o+3]*(1/255);return e},F.multiplyBlend=function(t,a){for(var e=F.createImageData(t.width,t.height),r=t.data,n=a.data,i=e.data,o=1/255,h=0;h<r.length;h+=4)i[h]=r[h]*n[h]*o,i[h+1]=r[h+1]*n[h+1]*o,i[h+2]=r[h+2]*n[h+2]*o,i[h+3]=r[h+3]+(255-r[h+3])*n[h+3]*o;return e},F.screenBlend=function(t,a){for(var e=F.createImageData(t.width,t.height),r=t.data,n=a.data,i=e.data,o=1/255,h=0;h<r.length;h+=4)i[h]=r[h]+n[h]-r[h]*n[h]*o,i[h+1]=r[h+1]+n[h+1]-r[h+1]*n[h+1]*o,i[h+2]=r[h+2]+n[h+2]-r[h+2]*n[h+2]*o,i[h+3]=r[h+3]+(255-r[h+3])*n[h+3]*o;return e},F.addBlend=function(t,a){for(var e=F.createImageData(t.width,t.height),r=t.data,n=a.data,i=e.data,o=0;o<r.length;o+=4)i[o]=r[o]+n[o],i[o+1]=r[o+1]+n[o+1],i[o+2]=r[o+2]+n[o+2],i[o+3]=r[o+3]+(255-r[o+3])*n[o+3]*(1/255);return e},F.subBlend=function(t,a){for(var e=F.createImageData(t.width,t.height),r=t.data,n=a.data,i=e.data,o=0;o<r.length;o+=4)i[o]=r[o]+n[o]-255,i[o+1]=r[o+1]+n[o+1]-255,i[o+2]=r[o+2]+n[o+2]-255,i[o+3]=r[o+3]+(255-r[o+3])*n[o+3]*(1/255);return e},F.differenceBlend=function(t,a){for(var e=F.createImageData(t.width,t.height),r=t.data,n=a.data,i=e.data,o=0;o<r.length;o+=4)i[o]=Math.abs(r[o]-n[o]),i[o+1]=Math.abs(r[o+1]-n[o+1]),i[o+2]=Math.abs(r[o+2]-n[o+2]),i[o+3]=r[o+3]+(255-r[o+3])*n[o+3]*(1/255);return e},F.erode=function(t){for(var a=t.data,e=t.width,r=e,n=t.height,t=F.createImageData(r,n),i=t.data,o=0;o<n;o++)for(var h=0;h<r;h++){var l=o,d=h,g=4*(o*r+h),u=0;(0!=a[4*(l*e+d)]||0==a[4*(l*e+Math.max(0,d-1))]&&0==a[4*(Math.max(0,l-1)*e+d)])&&(u=255),i[g]=u,i[1+g]=u,i[2+g]=u,i[3+g]=255}return t},void 0!==t&&(e.Filters=F)},{}]},{},[1])(1)});
